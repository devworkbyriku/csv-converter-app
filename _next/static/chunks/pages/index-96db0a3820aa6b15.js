(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[405],{5557:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/",function(){return t(1138)}])},1138:function(e,n,t){"use strict";function r(e,n,t,r,o,i,s){try{var a=e[i](s),l=a.value}catch(c){return void t(c)}a.done?n(l):Promise.resolve(l).then(r,o)}function o(e){return function(){var n=this,t=arguments;return new Promise((function(o,i){var s=e.apply(n,t);function a(e){r(s,o,i,a,l,"next",e)}function l(e){r(s,o,i,a,l,"throw",e)}a(void 0)}))}}function i(e,n){(null==n||n>e.length)&&(n=e.length);for(var t=0,r=new Array(n);t<n;t++)r[t]=e[t];return r}function s(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!==typeof Symbol&&null!=e[Symbol.iterator]||null!=e["@@iterator"])return Array.from(e)}(e)||function(e,n){if(e){if("string"===typeof e)return i(e,n);var t=Object.prototype.toString.call(e).slice(8,-1);return"Object"===t&&e.constructor&&(t=e.constructor.name),"Map"===t||"Set"===t?Array.from(t):"Arguments"===t||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(t)?i(e,n):void 0}}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}t.r(n),t.d(n,{default:function(){return m}});var a=t(7582),l=t(5893),c=t(7294),u=t(9008),d=t.n(u),h=t(214),f=t.n(h);function m(){var e=(0,c.useState)([]),n=e[0],t=e[1],r=(0,c.useState)(!1),i=r[0],u=r[1],h=(0,c.useState)(""),m=h[0],_=h[1],p=(0,c.useRef)(null),v=function(){var e=o((function(e){var n,r,o,i,l,c,d,h,f,m,v,j,x,w;return(0,a.__generator)(this,(function(a){switch(a.label){case 0:if(0===(n=Array.from(e.target.files)).length)return[2];if(r=n.filter((function(e){return e.name.endsWith(".csv")})),0===r.length)return _("CSV\u30d5\u30a1\u30a4\u30eb\u306e\u307f\u30a2\u30c3\u30d7\u30ed\u30fc\u30c9\u3067\u304d\u307e\u3059"),[2];u(!0),_(""),a.label=1;case 1:a.trys.push([1,12,13,14]),o=[],i=!0,l=!1,c=void 0,a.label=2;case 2:a.trys.push([2,9,10,11]),d=r[Symbol.iterator](),a.label=3;case 3:return(i=(h=d.next()).done)?[3,8]:[4,(f=h.value).arrayBuffer()];case 4:return m=a.sent(),[4,fetch("/api/convert",{method:"POST",headers:{"Content-Type":"application/octet-stream","X-File-Name":encodeURIComponent(f.name)},body:m})];case 5:if(!(v=a.sent()).ok)throw new Error("".concat(f.name,"\u306e\u5909\u63db\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f"));return[4,v.json()];case 6:j=a.sent(),o.push({originalName:f.name,content:j.content,originalEncoding:j.originalEncoding,isAlreadyUtf8:j.isAlreadyUtf8}),a.label=7;case 7:return i=!0,[3,3];case 8:return[3,11];case 9:return x=a.sent(),l=!0,c=x,[3,11];case 10:try{i||null==d.return||d.return()}finally{if(l)throw c}return[7];case 11:return t((function(e){return s(e).concat(s(o))})),p.current&&(p.current.value=""),[3,14];case 12:return w=a.sent(),console.error("Error converting files:",w),_("\u30d5\u30a1\u30a4\u30eb\u306e\u5909\u63db\u4e2d\u306b\u30a8\u30e9\u30fc\u304c\u767a\u751f\u3057\u307e\u3057\u305f: "+w.message),[3,14];case 13:return u(!1),[7];case 14:return[2]}}))}));return function(n){return e.apply(this,arguments)}}();!function(){var e=o((function(){var e;return(0,a.__generator)(this,(function(n){u(!0);try{e=function(e,n){var t=e.trim().split("\n");return t[0].split(","),t.slice(1),e}(inputData),setOutputData(e)}catch(m){console.error("Error converting CSV:",m)}finally{u(!1)}return[2]}))}))}();return(0,l.jsxs)("div",{className:f().container,children:[(0,l.jsxs)(d(),{children:[(0,l.jsx)("title",{children:"CSV\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\u30a2\u30d7\u30ea"}),(0,l.jsx)("meta",{name:"description",content:"CSV\u30d5\u30a1\u30a4\u30eb\u3092UTF-8\u306b\u5909\u63db\u3059\u308b\u30a2\u30d7\u30ea"}),(0,l.jsx)("link",{rel:"icon",href:"/favicon.ico"}),(0,l.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0"})]}),(0,l.jsxs)("main",{className:f().main,children:[(0,l.jsx)("h1",{className:f().title,children:"CSV\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\u30a2\u30d7\u30ea"}),(0,l.jsx)("p",{className:f().description,children:"CSV\u30d5\u30a1\u30a4\u30eb\u3092UTF-8\u306b\u5909\u63db\u3057\u307e\u3059"}),(0,l.jsxs)("div",{className:f().card,children:[(0,l.jsxs)("div",{className:f().uploadContainer,children:[(0,l.jsxs)("label",{htmlFor:"csvFile",className:f().uploadButton,children:[(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M5.83301 14.1667H14.1663V5.83333H10.8163L9.16634 4.16667H5.83301V14.1667Z",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M8.33301 8.33333H11.6663",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M10 10V6.66667",stroke:"white",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),"CSV\u30d5\u30a1\u30a4\u30eb\u3092\u8ffd\u52a0",(0,l.jsx)("input",{type:"file",id:"csvFile",accept:".csv",onChange:v,className:f().fileInput,multiple:!0,ref:p})]}),n.length>0&&(0,l.jsxs)("span",{className:f().fileName,children:[n.length," \u30d5\u30a1\u30a4\u30eb"]})]}),i&&(0,l.jsxs)("div",{className:f().loading,children:[(0,l.jsx)("div",{className:f().loadingSpinner}),"\u5909\u63db\u51e6\u7406\u4e2d..."]}),m&&(0,l.jsxs)("div",{className:f().error,children:[(0,l.jsxs)("svg",{width:"20",height:"20",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M10 6.66667V10",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M10 13.3333H10.0083",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M9.99996 16.6667C13.6819 16.6667 16.6666 13.6819 16.6666 10C16.6666 6.31811 13.6819 3.33334 9.99996 3.33334C6.31807 3.33334 3.33329 6.31811 3.33329 10C3.33329 13.6819 6.31807 16.6667 9.99996 16.6667Z",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"})]}),m]}),n.length>0&&(0,l.jsxs)("div",{className:f().results,children:[(0,l.jsx)("h3",{children:"\u5909\u63db\u6e08\u307f\u30d5\u30a1\u30a4\u30eb"}),(0,l.jsx)("div",{className:f().fileList,children:n.map((function(e,n){return(0,l.jsxs)("div",{className:f().fileItem,children:[(0,l.jsxs)("div",{className:f().fileHeader,children:[(0,l.jsxs)("div",{className:f().fileInfo,children:[(0,l.jsx)("span",{className:f().fileName,children:e.originalName}),(0,l.jsx)("span",{className:f().encoding,children:e.isAlreadyUtf8?(0,l.jsxs)("span",{className:f().alreadyUtf8,children:[(0,l.jsx)("svg",{width:"16",height:"16",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:(0,l.jsx)("path",{d:"M16.6667 5L7.50001 14.1667L3.33334 10",stroke:"currentColor",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})}),"\u65e2\u306bUTF-8\u5f62\u5f0f"]}):"\u5143\u306e\u6587\u5b57\u30b3\u30fc\u30c9: ".concat(e.originalEncoding)})]}),(0,l.jsx)("button",{onClick:function(){return function(e){t((function(n){var t=s(n);return t.splice(e,1),t}))}(n)},className:f().removeButton,title:"\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664","aria-label":"\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664",children:"\xd7"})]}),(0,l.jsxs)("button",{onClick:function(){return function(e,n){if(e){var t=new Blob([e],{type:"text/csv;charset=utf-8;"}),r=URL.createObjectURL(t),o=document.createElement("a");o.href=r,o.setAttribute("download","utf8-".concat(n||"converted.csv")),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(r)}}(e.content,e.originalName)},className:"".concat(f().downloadButton," ").concat(e.isAlreadyUtf8?f().downloadButtonUtf8:""),children:[(0,l.jsxs)("svg",{width:"18",height:"18",viewBox:"0 0 20 20",fill:"none",xmlns:"http://www.w3.org/2000/svg",children:[(0,l.jsx)("path",{d:"M10 13.3333L10 3.33333",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M6.66669 10L10 13.3333L13.3334 10",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"}),(0,l.jsx)("path",{d:"M3.33331 16.6667H16.6666",stroke:"white",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round"})]}),e.isAlreadyUtf8?"\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9":"UTF-8\u3067\u30c0\u30a6\u30f3\u30ed\u30fc\u30c9"]})]},n)}))}),n.length>0&&(0,l.jsx)("div",{className:f().actionBar,children:(0,l.jsx)("button",{onClick:function(){return t([])},className:f().clearAllButton,children:"\u5168\u3066\u306e\u30d5\u30a1\u30a4\u30eb\u3092\u524a\u9664"})})]})]})]}),(0,l.jsx)("footer",{className:f().footer,children:(0,l.jsxs)("p",{children:["CSV\u6587\u5b57\u30b3\u30fc\u30c9\u5909\u63db\u30a2\u30d7\u30ea \xa9 ",(new Date).getFullYear()]})})]})}},214:function(e){e.exports={container:"Home_container__bCOhY",main:"Home_main__nLjiQ",footer:"Home_footer____T7K",title:"Home_title__T09hD",description:"Home_description__41Owk",card:"Home_card___LpL1",uploadContainer:"Home_uploadContainer__aIY50",uploadButton:"Home_uploadButton__Dy1yQ",fileInput:"Home_fileInput__xvelA",fileName:"Home_fileName__R6RXV",loading:"Home_loading__IsZ5F",loadingSpinner:"Home_loadingSpinner__G8du1",spin:"Home_spin__7gbHz",error:"Home_error__m2kA6",results:"Home_results__7EkV7",fadeIn:"Home_fadeIn__rYUMu",fileList:"Home_fileList__TLE5w",fileItem:"Home_fileItem__Bl3rU",fileHeader:"Home_fileHeader__6MVhS",fileInfo:"Home_fileInfo__i6rN0",encoding:"Home_encoding__B3Iar",alreadyUtf8:"Home_alreadyUtf8___wK8k",removeButton:"Home_removeButton__9cDoZ",downloadButton:"Home_downloadButton__E5rjA",downloadButtonUtf8:"Home_downloadButtonUtf8__XkyG8",actionBar:"Home_actionBar__ME9SI",clearAllButton:"Home_clearAllButton__TIxru"}},9008:function(e,n,t){e.exports=t(5443)}},function(e){e.O(0,[774,888,179],(function(){return n=5557,e(e.s=n);var n}));var n=e.O();_N_E=n}]);